{% extends "base.html" %}

{% block title %}My Policies{% endblock %}

{% block content %}
    <h2>My Policies</h2>
    <p><a href="{{ url_for('add_policy') }}">Add New Policy</a></p>
    {% if policies %}
        {% for policy in policies %}
            <div class="policy-card">
                <h3>Policy #{{ policy.policy_number }} - {{ policy.policy_type }}</h3>
                <p><strong>Coverage:</strong> ${{ "%.2f"|format(policy.coverage_amount) }}</p>
                <p><strong>Premium:</strong> ${{ "%.2f"|format(policy.premium_amount) }}</p>
                <p><strong>Period:</strong> {{ policy.start_date }} to {{ policy.end_date }}</p>
                <p><strong>Status:</strong> {{ policy.status }}</p>
                <p>
                    <a href="{{ url_for('view_policy', policy_id=policy.id) }}">View Details</a> |
                    <a href="{{ url_for('edit_policy', policy_id=policy.id) }}">Edit</a>
                </p>
            </div>
        {% endfor %}
    {% else %}
        <p>You don't have any policies yet. <a href="{{ url_for('add_policy') }}">Add one now!</a></p>
    {% endif %}
{% endblock %}
